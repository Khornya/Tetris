<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1"/>
    <title th:if="${ piece == null }"> Ajouter une pièce </title>
    <title th:if="${ piece != null }"> Modifier une pièce </title>
    <link rel="stylesheet" href="../assets/style/form.css">
</head>
<body>
<h1 th:if="${ piece == null }"> Ajouter une pièce </h1>
<h1 th:if="${ piece != null }"> Modifier la pièce </h1>

<form method="POST">
    <div>
        <label>Nom</label>
        <input type="text" id="name" name="name" th:value="${piece?.name}" />
    </div>
    <div>
        <label>Taille de la grille</label>
        <select id="size">
            <option value="3">3x3</option>
            <option value="4">4x4</option>
            <option value="5">5x5</option>
        </select>
    </div>
    <div>
        <label>Forme</label>
        <div id="grid"></div>
    </div>
    <div style="display:none">
        <label>Matrice</label>
        <input id="matrix" name="matrix" type="hidden" />
    </div>
    <div style="display:none">
        <label>Matrice</label>
        <input id="piece" name="piece" type="hidden" />
    </div>
    <div>
        <input id="submitButton" type="submit" value="Valider" />
    </div>
</form>
<script th:inline="javascript">
    /*<![CDATA[*/

    let oldMatrix = /*[[${piece?.matrix}]]*/ [];

    /*]]>*/
</script>
<script type="text/javascript" src="../assets/scripts/form.js"></script>
</body>
</html>